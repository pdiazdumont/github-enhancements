{"version":3,"sources":["webpack:///webpack/bootstrap ab3b81e23fd57bdcd05b","webpack:///./src/hot-reload.js"],"names":["filesInDirectory","Promise","dir","createReader","readEntries","all","entries","filter","e","name","map","isDirectory","file","resolve","then","concat","files","timestampForFilesInDirectory","f","lastModifiedDate","join","reload","chrome","tabs","query","active","currentWindow","id","runtime","watchChanges","lastTimestamp","timestamp","setTimeout","management","getSelf","self","installType","getPackageDirectoryEntry"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA,IAAMA,mBAAmB,SAAnBA,gBAAmB;AAAA,WAAO,IAAIC,OAAJ,CAAa;AAAA,eAEzCC,IAAIC,YAAJ,GAAoBC,WAApB,CAAiC;AAAA,mBAE7BH,QAAQI,GAAR,CAAaC,QAAQC,MAAR,CAAgB;AAAA,uBAAKC,EAAEC,IAAF,CAAO,CAAP,MAAc,GAAnB;AAAA,aAAhB,EAAwCC,GAAxC,CAA6C;AAAA,uBAEtDF,EAAEG,WAAF,GACMX,iBAAkBQ,CAAlB,CADN,GAEM,IAAIP,OAAJ,CAAa;AAAA,2BAAWO,EAAEI,IAAF,CAAQC,OAAR,CAAX;AAAA,iBAAb,CAJgD;AAAA,aAA7C,CAAb,EAMCC,IAND,CAMO;AAAA;;AAAA,uBAAS,YAAGC,MAAH,gCAAcC,KAAd,EAAT;AAAA,aANP,EAOCF,IAPD,CAOOD,OAPP,CAF6B;AAAA,SAAjC,CAFyC;AAAA,KAAb,CAAP;AAAA,CAAzB;;AAeA,IAAMI,+BAA+B,SAA/BA,4BAA+B;AAAA,WAC7BjB,iBAAkBE,GAAlB,EAAuBY,IAAvB,CAA6B;AAAA,eACzBE,MAAMN,GAAN,CAAW;AAAA,mBAAKQ,EAAET,IAAF,GAASS,EAAEC,gBAAhB;AAAA,SAAX,EAA6CC,IAA7C,EADyB;AAAA,KAA7B,CAD6B;AAAA,CAArC;;AAIA,IAAMC,SAAS,SAATA,MAAS,GAAM;;AAEjBC,WAAOC,IAAP,CAAYC,KAAZ,CAAmB,EAAEC,QAAQ,IAAV,EAAgBC,eAAe,IAA/B,EAAnB,EAA0D,gBAAQ;;AAE9D,YAAIH,KAAK,CAAL,CAAJ,EAAa;AAAED,mBAAOC,IAAP,CAAYF,MAAZ,CAAoBE,KAAK,CAAL,EAAQI,EAA5B;AAAiC;;AAEhDL,eAAOM,OAAP,CAAeP,MAAf;AACH,KALD;AAMH,CARD;;AAUA,IAAMQ,eAAe,SAAfA,YAAe,CAAC3B,GAAD,EAAM4B,aAAN,EAAwB;;AAEzCb,iCAA8Bf,GAA9B,EAAmCY,IAAnC,CAAyC,qBAAa;;AAElD,YAAI,CAACgB,aAAD,IAAmBA,kBAAkBC,SAAzC,EAAqD;;AAEjDC,uBAAY;AAAA,uBAAMH,aAAc3B,GAAd,EAAmB6B,SAAnB,CAAN;AAAA,aAAZ,EAAiD,IAAjD,EAFiD,CAEM;AAE1D,SAJD,MAIO;;AAEHV;AACH;AACJ,KAVD;AAYH,CAdD;;AAgBAC,OAAOW,UAAP,CAAkBC,OAAlB,CAA2B,gBAAQ;;AAE/B,QAAIC,KAAKC,WAAL,KAAqB,aAAzB,EAAwC;;AAEpCd,eAAOM,OAAP,CAAeS,wBAAf,CAAyC;AAAA,mBAAOR,aAAc3B,GAAd,CAAP;AAAA,SAAzC;AACH;AACJ,CAND,E","file":"./js/hot-reload.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab3b81e23fd57bdcd05b","const filesInDirectory = dir => new Promise (resolve =>\n\n    dir.createReader ().readEntries (entries =>\n\n        Promise.all (entries.filter (e => e.name[0] !== '.').map (e =>\n\n            e.isDirectory\n                ? filesInDirectory (e)\n                : new Promise (resolve => e.file (resolve))\n        ))\n        .then (files => [].concat (...files))\n        .then (resolve)\n    )\n)\n\nconst timestampForFilesInDirectory = dir =>\n        filesInDirectory (dir).then (files =>\n            files.map (f => f.name + f.lastModifiedDate).join ())\n\nconst reload = () => {\n\n    chrome.tabs.query ({ active: true, currentWindow: true }, tabs => {\n\n        if (tabs[0]) { chrome.tabs.reload (tabs[0].id) }\n\n        chrome.runtime.reload ()\n    })\n}\n\nconst watchChanges = (dir, lastTimestamp) => {\n\n    timestampForFilesInDirectory (dir).then (timestamp => {\n\n        if (!lastTimestamp || (lastTimestamp === timestamp)) {\n\n            setTimeout (() => watchChanges (dir, timestamp), 1000) // retry after 1s\n\n        } else {\n\n            reload ()\n        }\n    })\n\n}\n\nchrome.management.getSelf (self => {\n\n    if (self.installType === 'development') {\n\n        chrome.runtime.getPackageDirectoryEntry (dir => watchChanges (dir))\n    }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/hot-reload.js"],"sourceRoot":""}